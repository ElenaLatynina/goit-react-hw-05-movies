{"version":3,"file":"static/js/310.9585ab83.chunk.js","mappings":"8PAEaA,EAAYC,EAAAA,GAAAA,IAAH,yCAITC,EAAOD,EAAAA,GAAAA,KAAH,6EAOJE,EAAQF,EAAAA,GAAAA,MAAH,yFAOLG,EAASH,EAAAA,GAAAA,OAAH,wF,SCqDnB,EAnEe,WACX,OAAwCI,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,EAAaL,EAAaM,IAAI,SACpC,GAA0BJ,EAAAA,EAAAA,UAASG,GAA0B,IAA7D,eAAOE,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACDJ,IAKEK,EAAAA,EAAAA,IAASL,GAAOM,MAAK,SAAAC,GAChBV,EAAUU,EAAKC,QAAQC,KAAI,gBAAGC,EAAH,EAAGA,MAAH,MAAoB,CAAEC,GAAtB,EAAUA,GAAoBD,MAAOA,EAArC,IAC9B,IAAEE,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,GAIzB,GAAE,CAACb,IAQJ,OACI,UAACb,EAAD,YACI,UAACE,EAAD,CAAM2B,SATO,SAAAC,GACjBA,EAAMC,iBACN,IAAMC,EAAQF,EAAMG,OAAOpB,MAAMmB,MACjClB,EAASkB,GACTzB,EAAgB,CAAEM,MAAOmB,GAC5B,EAIO,WACI,SAAC7B,EAAD,CACI+B,KAAK,QACLC,KAAK,QACLC,aAAcvB,EACdwB,aAAa,MACbC,WAAS,EACTC,YAAY,eAEhB,SAACnC,EAAD,CAAQ8B,KAAK,SAAb,UACI,2CAGR,wBACKzB,EAAOa,KAAI,gBAAGE,EAAH,EAAGA,GAAID,EAAP,EAAOA,MAAP,OACR,yBACI,SAAC,KAAD,CAAMiB,GAAE,UAAKhB,GACTiB,OAAQ,CAAEC,WAAW,SAAD,OAAW7B,IAC/B8B,MAAO,CAAEC,KAAM7B,GAFnB,SAEgCQ,KAH3BC,EADD,QAa3B,C,uJC9DD,IACMqB,EAAU,mCAGHC,EAAmB,WAC5B,IAAMC,EAAO,UALA,gCAKA,sCAA4CF,GACzD,OAAOG,MAAMD,GAAS5B,MAAK,SAAA8B,GAAQ,OAAIA,EAASC,MAAb,GAEtC,EAEYC,EAAiB,SAAAC,GAC1B,IAAMC,EAAQ,6CAAyCD,EAAzC,oBAA4DP,EAA5D,mBAEd,OAAOG,MAAMK,GACRlC,MAAK,SAAA8B,GAAQ,OAAIA,EAASC,MAAb,GACrB,EAEYI,EAAc,SAAAF,GACvB,IAAMG,EAAO,6CAAyCH,EAAzC,4BAAoEP,EAApE,mBACb,OAAQG,MAAMO,GAASpC,MAAK,SAAA8B,GAAQ,OAAIA,EAASC,MAAb,GACvC,EAEYM,EAAe,SAAAJ,GACxB,IAAMK,EAAU,6CAAyCL,EAAzC,4BAAoEP,EAApE,0BAChB,OAAOG,MAAMS,GACVtC,MAAK,SAAA8B,GAAQ,OAAIA,EAASC,MAAb,GACnB,EAEYhC,EAAW,SAAAL,GACpB,IAAM6C,EAAO,4DAAwDb,EAAxD,iCAAwFhC,EAAxF,+BACb,OAAQmC,MAAMU,GAASvC,MAAK,SAAA8B,GAAQ,OAAIA,EAASC,MAAb,GACvC,C","sources":["pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx","services/GetFilms.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const MoviePage = styled.div`\n padding: 40px;\n`;\n\nexport const Form = styled.form`\ndisplay:flex;\nheight:25px;\nmargin-bottom: 16px;\n\n`;\n\nexport const Input = styled.input`\nmargin-right:16px;\nborder: 1px solid navy;\nfont-size: 16px;\n\n`;\n\nexport const Button = styled.button`\nfont-size: 16px;\nborder-radius: 2px;\nborder: 1px solid navy;\n`;\n\n\n\n\n","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { findFilm } from 'services/GetFilms';\nimport { MoviePage, Button, Form, Input } from './Movies.styled';\n\nconst Movies = () => {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [movies, setMovies] = useState([]);\n    const queryParam = searchParams.get('query');\n    const [query, setQuery] = useState(queryParam ? queryParam : '');\n    const location = useLocation();\n\n    useEffect(() => {\n        if (!query) {\n            return;\n        }\n\n        function fetchMovie() {\n               findFilm(query).then(data => {\n                    setMovies(data.results.map(({ title, id }) => ({ id: id, title: title })));\n                }).catch(error => console.log(error));\n        }\n        fetchMovie();\n\n    }, [query]);\n    const handleSubmit = event => {\n        event.preventDefault();\n        const value = event.target.query.value;\n        setQuery(value);\n        setSearchParams({ query: value });\n    }\n       \n    return (\n        <MoviePage>\n            <Form onSubmit={handleSubmit}>\n                <Input\n                    type=\" text\"\n                    name=\"query\"\n                    defaultValue={query}\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Find film\"\n                />\n                <Button type=\"submit\">\n                    <span>Search</span>\n                </Button>\n            </Form>\n            <ul>\n                {movies.map(({ id, title }) => (\n                    <li key={id}>\n                        <Link to={`${id}`}\n                            search={{ querySerch: `query=${query}` }}\n                            state={{ from: location }}>{title}</Link>\n                    </li>\n                )\n                    \n                )}\n            </ul>\n        </MoviePage>\n    );\n\n};\n \nMovies.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.exact({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default Movies;","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '07365d3730901c9189566ffe38d9d5bb';\n\n\nexport const getTrendingFilms = () => {\n    const urlHome = `${BASE_URL}trending/movie/day?api_key=${API_KEY}`;\n    return fetch(urlHome).then(response => response.json());\n        \n};\n\nexport const getDescription = movieId => {\n    const urlMovie = `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n\n    return fetch(urlMovie)\n        .then(response => response.json());\n};\n\nexport const fetchActors = movieId => {\n    const urlCast = `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`;\n    return  fetch(urlCast).then(response => response.json());\n};\n\nexport const fetchReviews = movieId => {\n    const urlReviews = `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n    return fetch(urlReviews)\n      .then(response => response.json());\n};\n\nexport const findFilm = query => {\n    const urlFilm = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`;\n    return  fetch(urlFilm).then(response => response.json());\n};"],"names":["MoviePage","styled","Form","Input","Button","useSearchParams","searchParams","setSearchParams","useState","movies","setMovies","queryParam","get","query","setQuery","location","useLocation","useEffect","findFilm","then","data","results","map","title","id","catch","error","console","log","onSubmit","event","preventDefault","value","target","type","name","defaultValue","autoComplete","autoFocus","placeholder","to","search","querySerch","state","from","API_KEY","getTrendingFilms","urlHome","fetch","response","json","getDescription","movieId","urlMovie","fetchActors","urlCast","fetchReviews","urlReviews","urlFilm"],"sourceRoot":""}